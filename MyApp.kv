Mycell:
    FirstScreen:
    SecondScreen:
    ThirdScreen:
    FourthScreen:
    CameraClick:

<FirstScreen>:
    name:"FirstScreen"
    ti_concentration_range:ti_concentration_range
    ti_result:ti_result
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source:"images.jpg"
    FloatLayout:
        TextInput:
            id:ti_concentration_range
            hint_text:"enter the concentration."
            multiline: False 
            font_size:18
            size_hint:"0.34","0.1"
            pos_hint: {'x': 0, 'y': 0.55}  
        TextInput:
            id:ti_result
            hint_text:"result"
            multiline: False 
            font_size:18
            size_hint:"0.34","0.1"
            pos_hint: {'x': 0, 'y': 0.34}
        Button:
            text: "Select one option"
            pos_hint: {'x':0.34, 'y':0.68 }
            background_color:0.4,0.5,1,1
            size_hint:0.32,0.33
            font_size:20
            spacing:10 
            
        Button:
            text : "WBC1"
            pos_hint: {'x':0, 'y':0.67 }
            background_color:1,0,1,1 
            size_hint:0.34,0.34
            font_size:30
            on_press: root.manager.current = "SecondScreen"
                    
        Button:
            text : "WBC2"
            pos_hint: {'x':0.66, 'y':0.67 }
            background_color:1,0,1,1 
            size_hint:0.34,0.34
            font_size:30
            #spacing:10                    
            on_press: root.manager.current = "SecondScreen"
        Button:
            text : "WBC3"
            pos_hint: {'x':0, 'y':0 }
            background_color:1,0,1,1 
            size_hint:0.34,0.33
            font_size:30
            #spacing:10
            on_press: root.manager.current = "SecondScreen"
        Button:
            text : "WBC4"
            pos_hint: {'x':0.66, 'y':0 }
            background_color:1,0,1,1 
            size_hint:0.34,0.33
            font_size:30
            #spacing:10
            on_press: root.manager.current = "SecondScreen"
        Button:
            text : "*show the result for WBC*"
            pos_hint: {'x':0, 'y':0.45 }
            background_color:0.5,0.4,0.7,0.8 
            size_hint:0.34,0.1
            font_size:16
            on_press: root.click()
        
        Button:
            text : "RBC"
            pos_hint: {'x':0.34, 'y':0.335 }
            background_color:1,0,0,1 
            size_hint:0.32,0.33
            font_size:30
            #spacing:10 
            on_press: root.manager.current = "ThirdScreen"
                    
        Button:
            text : "Colorful cells"
            pos_hint: {'x': 0.34, 'y': 0} 
            background_color:0.5,0.2,0.9,1 
            size_hint:0.32,0.33 
            font_size:30
            spacing:10
            on_press: root.manager.current = "FourthScreen"
                    
<SecondScreen>:
    name:"SecondScreen"
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source:"download.jpg"
    FloatLayout:
        Button:
            text : "WBC"
            pos_hint: {'x':0.34, 'y':0.68 }
            background_color:1,0,1,1 
            size_hint:0.32,0.33
            font_size:30
        Button:
            text : "upload pic for WBC"
            pos_hint: {'x':0.005, 'y':0.335 }
            background_color:1,0,0.6,1 
            size_hint:0.32,0.33
            font_size:25
            on_press: root.manager.current = "Gallery"
        Button:
            text : "open camera"
            pos_hint: {'x':0.67, 'y':0.335 }
            background_color:1,0,0.6,1 
            size_hint:0.32,0.33
            font_size:25
            on_press: root.manager.current = "CameraClick"
        Button:
            text : "Back to first screen"
            pos_hint: {'x':0.8, 'y':0 }
            background_color:0.6,0,0.8,1 
            size_hint:0.2,0.2
            font_size:22
            on_press: root.manager.current = "FirstScreen"
                    
<ThirdScreen>:     
    name:"ThirdScreen"
    ti_concentration_range:ti_concentration_range
    ti_result:ti_result
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source:"download.jpg"   
    FloatLayout:
        TextInput:
            id:ti_concentration_range
            hint_text:"enter the concentration you used."
            multiline: False 
            font_size:20
            size_hint:"0.5","0.1"
            pos_hint: {'x': 0, 'y': 0.2}  
        TextInput:
            id:ti_result
            hint_text:"result"
            multiline: False 
            font_size:20
            size_hint:"0.5","0.1" 
        Button:
            text : "*show the result*"
            pos_hint: {'x':0, 'y':0.1 }
            background_color:0.5,0.4,0.7,0.8 
            size_hint:0.5,0.1
            font_size:30  
            on_press: root.click()
        Button:
            text : "RBC"
            pos_hint: {'x':0.34, 'y':0.68 }
            background_color:1,0,0,1 
            size_hint:0.32,0.33
            font_size:30
        Button:
            text : "upload pic for RBC"
            pos_hint: {'x':0.005, 'y':0.335 }
            background_color:0.5,0,0,1 
            size_hint:0.32,0.33
            font_size:25
        Button:
            text : "open camera for RBC"
            pos_hint: {'x':0.67, 'y':0.335 }
            background_color:0.5,0,0,1 
            size_hint:0.32,0.33
            font_size:25
            
 
        Button:
            text : "Back to first screen"
            pos_hint: {'x':0.8, 'y':0 }
            background_color:0.6,0,0.8,1 
            size_hint:0.2,0.2
            font_size:22
            on_press: root.manager.current = "FirstScreen"           

<FourthScreen>: 
    name:"FourthScreen"
    ti_result:ti_result
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source:"download.jpg"
    FloatLayout:
        TextInput:
            id:ti_result
            hint_text:"result"
            multiline: False 
            font_size:20
            size_hint:"0.5","0.1"
        Button:
            text : "show the result"
            pos_hint: {'x':0.34, 'y':0.335 }
            background_color:0.5,0.4,0.7,0.8 
            size_hint:0.32,0.33
            font_size:30 
            on_press: root.click()
        Button:
            text : "Colorful cells"
            pos_hint: {'x': 0.34, 'y': 0.68} 
            background_color:0.5,0.2,0.9,1 
            size_hint:0.32,0.33 
            font_size:30
            spacing:10
        Button:
            text : "upload pic for Colorful cells"
            pos_hint: {'x':0.005, 'y':0.335 }
            background_color:0.5,0,0,1 
            size_hint:0.32,0.33
            font_size:20
        Button:
            text : "open camera for Colorful cells"
            pos_hint: {'x':0.67, 'y':0.335 }
            background_color:0.5,0,0,1 
            size_hint:0.32,0.33
            font_size:20
        Button:
            text : "Back to first screen"
            pos_hint: {'x':0.8, 'y':0 }
            background_color:0.6,0.4,0.8,1 
            size_hint:0.2,0.2
            font_size:22
            on_press: root.manager.current = "FirstScreen"


    FloatLayout:
        FileChooserListView:
            id: file_chooser

        Button:
            text: 'Select Image'
            on_release: root.select_image()

        Image:
            id: image_widget
<CameraClick>:
    name:"CameraClick"
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Capture'
            size_hint_y: None
            height: '48dp'
            on_press: root.capture()
        Button:
            text : "Back to first screen"
            size_hint_y: None
            height: '48dp'
            on_press: root.manager.current = "FirstScreen"
        Camera:
            id: camera
            resolution: (640, 480)
            allow_stretch: True
            keep_ratio: True
            play: True